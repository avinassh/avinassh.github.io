<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <title>Staying Ahead of Amazon, in Amazon Treasure Hunt Contest - blag</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- for Google -->
    <meta name="author" content="avi" />
 <meta name="description" content="<p>With a simple Man In The Middle (MITM) attack, I tried to cheat(?) one of Amazon India's contest.</p>" />  <meta name="keywords" content="" /> 
    <!-- for Facebook -->          
    <meta property="og:title" content="Staying Ahead of Amazon, in Amazon Treasure Hunt Contest" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="http://avi.im/blag/2015/amazon-treasure-hunt/" />
 <meta property="og:description" content="<p>With a simple Man In The Middle (MITM) attack, I tried to cheat(?) one of Amazon India's contest.</p>" /> 
    <!-- for Twitter -->
    <meta name="twitter:title" content="Staying Ahead of Amazon, in Amazon Treasure Hunt Contest" />
    <meta name="twitter:description" content="<p>With a simple Man In The Middle (MITM) attack, I tried to cheat(?) one of Amazon India's contest.</p>" />
    <meta name="twitter:card" content="<p>With a simple Man In The Middle (MITM) attack, I tried to cheat(?) one of Amazon India's contest.</p>" />

    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" />
    <!--<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css" rel="stylesheet" />-->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" />
    <link href="http://avi.im/blag/theme/style.css" rel="stylesheet" />
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link href="http://avi.im/blag/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="blag Full Atom Feed" />
    <link href="http://avi.im/blag/feeds/category/code.atom.xml" type="application/atom+xml" rel="alternate" title="blag Categories Atom Feed" />
  </head>
  <body id="index" class="archive">
    <!--[if lt IE 7]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <nav class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://avi.im/blag">blag</a>
        </div>
        <div class="collapse navbar-collapse navbar-right">
          <ul class="nav navbar-nav">
            <li ><a href="http://avi.im/blag/archives.html">archives</a></li>
            <li ><a href="http://avi.im/blag/tags.html">tags</a></li>           
            <li><a href="http://avi.im/blag/about/">about</a></li>
            <li><a href="http://avi.im/blag/projects/">projects</a></li>
            <!--
            <li><a href="http://avi.im/blag/tags.html">tags</a></li>
            -->
          </ul>
        </div>
        <!-- /.navbar-collapse -->
      </div>
    </nav>
    <div class="container">
    <section id="content" class="article content">
      <header>
        <h2 class="entry-title">
          Staying Ahead of Amazon, in Amazon Treasure Hunt Contest
        </h2>
        
        <div class="text-muted">October 31, 2015</div>
      </header>
<!-- .entry-content -->
      <div class="entry-content">
        <p>Last week Amazon India had a Treasure Hunt contest which ran for a whole week. The contest was simple, from 10am to 6pm, every hour Amazon would display a clue (image) and you had to guess the product. That particular product would be on sale for ₹1, which also included shipping cost anywhere in India. The contest was app only i.e. image also would be displayed in the app and you had to buy using the app.</p>
<p><img src="http://avi.im/blag/images/2015/amazon-treasure/makeymakey1.jpg" alt="makey makey offer page" style="width: 50%;"/><img src="http://avi.im/blag/images/2015/amazon-treasure/makeymakey2.jpg" alt="makey makey cart" style="width: 50%;"/></p>
<p>Above images show <a href="http://www.amazon.in/dp/B008SFLEPE/">Makey Makey</a> on promo.</p>
<p>Problem was, too many people were participating in the contest and by the time you could guess the product, search it in the app and add to your cart, it would be out of stock. Because quantity of the product on sale was only one. So you had to be very very quick.</p>
<p>Using <a href="https://mitmproxy.org/">MITM</a>, I started monitoring the API calls. In one of the calls, I found out the request which was asking for the contest image:</p>
<div class="highlight"><pre>https://images-eu.ssl-images-amazon.com/images/G/31/img13/mshop/treasure/clues-20/Clue5._UX828_SX828_V290896415_.png
</pre></div>


<p>At the time of this writing, above link is still active. In case Amazon removes it, you can check the <a href="https://archive.is/tpoLd">archived link</a>. This clue leads to <a href="http://www.amazon.in/dp/B00NPSTO42/">Canon Powershot SX400</a> and it was actually sold for ₹1.</p>
<p>I changed string <code>Clue5</code> to <code>Clue6</code> (after other trial and errors) and I had access to the next clue, even before the contest was live:</p>
<div class="highlight"><pre>https://images-eu.ssl-images-amazon.com/images/G/31/img13/mshop/treasure/clues-20/Clue6._UX828_SX828_V290896415_.png
</pre></div>


<p>Here's the <a href="https://archive.is/3tlhv">archived link</a>. Now all I had do was increase the value and get all images. </p>
<p>The clues did not require any authentication or special headers (and that's how <a href="https://archive.is">archive.is</a> is able to GET and archive it).</p>
      </div>
<!-- /.entry-content -->
      <footer class="post-info text-muted">
        <button type="button" class="btn btn-default">          
          <a href="http://avi.im/blag/category/code"><div class="fa fa-lg fa-folder-open"></div> Code</a>
        </button>
        <button type="button" class="btn btn-default">
          <a href="http://avi.im/blag/tag/hacking/"><div class="fa fa-lg fa-tag"></div> hacking</a>
        </button>
      </footer>
      <!-- /.post-info -->
    <!-- Comment BEGIN -->
    <div id="isso_thread_div"></div>
    <script data-isso="//isso-avinassh.rhcloud.com/" src="//posativ.org/isso/api/js/embed.min.js"></script>
    <section id="isso-thread"></section>    
    <noscript>Please enable JavaScript to view the <a href="http://posativ.org/isso/">comments powered by Isso.</a></noscript>
    <!-- Comment END -->
    </section>
    </div>
    <footer class="footer">
      <div class="container">
        <p class="footer-text">&copy; <a href="http://avi.im/blag">blag</a> powered by <a href="http://getpelican.com/">pelican</a> with <a href="https://github.com/avinassh/skyfall">skyfall</a> theme.</p>
      </div>
    </footer>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  </body>
</html>