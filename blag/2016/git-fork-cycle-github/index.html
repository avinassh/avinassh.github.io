<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <title>Git/Github fork-pull request-update cycle - blag</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- for Google -->
    <meta name="author" content="avi" />
 <meta name="description" content="<p>When contributing to Open Source Projects, new contributors often run into problems of having multiple merge commits and issues with keeping the forked repo in sync. This post addresses solutions for some of the problems.</p>" />  <meta name="keywords" content="" /> 
    <!-- for Facebook -->          
    <meta property="og:title" content="Git/Github fork-pull request-update cycle" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="http://avi.im/blag/2016/git-fork-cycle-github/" />
 <meta property="og:description" content="<p>When contributing to Open Source Projects, new contributors often run into problems of having multiple merge commits and issues with keeping the forked repo in sync. This post addresses solutions for some of the problems.</p>" /> 
    <!-- for Twitter -->
    <meta name="twitter:title" content="Git/Github fork-pull request-update cycle" />
    <meta name="twitter:description" content="<p>When contributing to Open Source Projects, new contributors often run into problems of having multiple merge commits and issues with keeping the forked repo in sync. This post addresses solutions for some of the problems.</p>" />
    <meta name="twitter:card" content="<p>When contributing to Open Source Projects, new contributors often run into problems of having multiple merge commits and issues with keeping the forked repo in sync. This post addresses solutions for some of the problems.</p>" />

    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" />
    <!--<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css" rel="stylesheet" />-->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" />
    <link href="http://avi.im/blag/theme/style.css" rel="stylesheet" />
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link href="http://avi.im/blag/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="blag Full Atom Feed" />
    <link href="http://avi.im/blag/feeds/category/code.atom.xml" type="application/atom+xml" rel="alternate" title="blag Categories Atom Feed" />
  </head>
  <body id="index" class="archive">
    <!--[if lt IE 7]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <nav class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://avi.im/blag">blag</a>
        </div>
        <div class="collapse navbar-collapse navbar-right">
          <ul class="nav navbar-nav">
            <li ><a href="http://avi.im/blag/archives.html">archives</a></li>
            <li ><a href="http://avi.im/blag/tags.html">tags</a></li>           
            <li><a href="http://avi.im/blag/about/">about</a></li>
            <li><a href="http://avi.im/blag/projects/">projects</a></li>
            <!--
            <li><a href="http://avi.im/blag/tags.html">tags</a></li>
            -->
          </ul>
        </div>
        <!-- /.navbar-collapse -->
      </div>
    </nav>
    <div class="container">
    <section id="content" class="article content">
      <header>
        <h2 class="entry-title">
          Git/Github fork-pull request-update cycle
        </h2>
        
        <div class="text-muted">February 19, 2016</div>
      </header>
<!-- .entry-content -->
      <div class="entry-content">
        <p>Lets say there is a project called <code>python</code> and you want to contribute. So you should fork <code>python</code> project and ALWAYS create a separate branch for the patch/feature you are working on and NEVER commit on the master branch of forked repo.</p>
<p>Lets call your forked repo as <code>python-forked</code>.</p>
<p>Once you fork a project, add a git remote called <code>upstream</code> (or whatever name you feel like using), which points to original repo. This remote will help you keep your project updated and in sync with original repo (from where you forked).</p>
<div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd </span>python-forked
<span class="nv">$ </span>git remote add upstream https://github.com/guido/python.git 
</pre></div>


<p>Consider 3 scenarios.</p>
<h3>The simple, fork and send PR</h3>
<p>Create a new branch, name it on the patch/feature you are working on:</p>
<div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd </span>python-forked
<span class="nv">$ </span>git checkout -b bugfix-unicode-strings
</pre></div>


<p>Work on <code>bugfix-unicode-strings</code> and make all the changes you want. And then do a push to your github account, which is usually <code>origin</code> remote:</p>
<div class="highlight"><pre><span class="nv">$ </span>git push origin bugfix-unicode-strings
</pre></div>


<p>And then send PR, to <code>master</code> branch of <code>guido/python</code>, with your branch <code>bugfix-unicode-strings</code>.</p>
<p>Now, tomorrow, guido may add new features and you might want to update your forked repo. It's simple, just pull from the <code>upstream</code> to <code>master</code> branch of <code>python-forked</code></p>
<div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd </span>python-forked
<span class="nv">$ </span>git fetch upstream
<span class="nv">$ </span>git checkout master
<span class="nv">$ </span>git rebase upstream/master
</pre></div>


<h3>Update and PR</h3>
<p>You have forked the project and maintainer has later moved on and added new features which you need in the current patch you are working on</p>
<p>You need to fetch the new changes from <code>upstream</code> and put those in your <code>patch</code> branch. While doing this, usually I update my master branch also:</p>
<div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd </span>python-forked
<span class="nv">$ </span>git fetch upstream
<span class="nv">$ </span>git checkout master
<span class="nv">$ </span>git rebase upstream/master
<span class="nv">$ </span>git checkout existing-patch-I-am-working-on
<span class="nv">$ </span>git rebase master
</pre></div>


<p>You could also do <code>$ git rebase upstream/master</code> in last step to update the current patch branch. </p>
<h3>Update, resolve conflicts and PR</h3>
<p>You have forked the project and maintainer has made some changes to the file you are also working on</p>
<p>Fetch the changes and merge it with current patch branch you are working:</p>
<div class="highlight"><pre><span class="nv">$ </span><span class="nb">cd </span>python-forked
<span class="nv">$ </span>git fetch upstream
<span class="nv">$ </span>git checkout master
<span class="nv">$ </span>git rebase upstream/master
<span class="nv">$ </span>git checkout existing-patch-I-am-working-on-which-has-a-file-edited-by-guido
<span class="nv">$ </span>git rebase master
</pre></div>


<p>above rebase will fail(?) (or interrupted) and terminal will ask you to resolve the conflicts and then merge.</p>
<p>usually:</p>
<div class="highlight"><pre># solve the conflicts
$ git rebase --continue
</pre></div>


<h3>References</h3>
<ul>
<li>Syncing a Fork - <a href="https://help.github.com/articles/syncing-a-fork/">link</a></li>
<li>Merging an upstream repository into your fork - <a href="https://help.github.com/articles/merging-an-upstream-repository-into-your-fork/">link</a></li>
<li>How to update a GitHub forked repository? - <a href="http://stackoverflow.com/questions/7244321/how-to-update-a-github-forked-repository">link</a></li>
</ul>
      </div>
<!-- /.entry-content -->
      <footer class="post-info text-muted">
        <button type="button" class="btn btn-default">          
          <a href="http://avi.im/blag/category/code"><div class="fa fa-lg fa-folder-open"></div> code</a>
        </button>
        <button type="button" class="btn btn-default">
          <a href="http://avi.im/blag/tag/git/"><div class="fa fa-lg fa-tag"></div> git</a>
        </button>
        <button type="button" class="btn btn-default">
          <a href="http://avi.im/blag/tag/github/"><div class="fa fa-lg fa-tag"></div> github</a>
        </button>
        <button type="button" class="btn btn-default">
          <a href="http://avi.im/blag/tag/open-source/"><div class="fa fa-lg fa-tag"></div> open-source</a>
        </button>
      </footer>
      <!-- /.post-info -->
    <!-- Comment BEGIN -->
    <div id="isso_thread_div"></div>
    <script data-isso="//isso-avinassh.rhcloud.com/" src="//posativ.org/isso/api/js/embed.min.js"></script>
    <section id="isso-thread"></section>    
    <noscript>Please enable JavaScript to view the <a href="http://posativ.org/isso/">comments powered by Isso.</a></noscript>
    <!-- Comment END -->
    </section>
    </div>
    <footer class="footer">
      <div class="container">
        <p class="footer-text">&copy; <a href="http://avi.im/blag">blag</a> powered by <a href="http://getpelican.com/">pelican</a> with <a href="https://github.com/avinassh/skyfall">skyfall</a> theme.</p>
      </div>
    </footer>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  </body>
</html>